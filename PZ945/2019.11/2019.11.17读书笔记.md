# HTTP 和 HTTPS 的区别

## HTTP 和 HTTPS 的基本概念
 - HTTP：是互联网上应用最为广泛的一种网络协议，是一个客户端和服务器端请求和应答的标准（TCP），用于从WWW 服务器传输超文本到本地浏览器的传输协议，它可以使浏览器更加高效，使网络传输减少。

 - HTTPS：是以安全为目标的 HTTP 通道，简单讲是 HTTP 的安全版，即 HTTP 下加入 SSL 层，HTTPS 的安全基础是 SSL，因此加密的详细内容就需要 SSL。HTTPS 协议的主要作用可以分为两种：一种是建立一个信息安全通道，来保证数据传输的安全；另一种就是确认网站的真实性。
 
## HTTPS 和 HTTP 的区别主要如下

 1. https 协议需要到 ca 申请证书，一般免费证书较少，因而需要一定费用。

 2. http 是超文本传输协议，信息是明文传输，https 则是具有安全性的 ssl 加密传输协议。

 3. http 和 https 使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443。

 4. http 的连接很简单，是无状态的；HTTPS 协议是由 SSL+HTTP 协议构建的可进行加密传输、身份认证的网络协议，比 http 协议安全。


## HTTP 和 HTTPS 的主要特点和工作流程

### HTTP 特点

 1. 支持客户/服务器模式。（C/S模式）

 2. 简单快速：客户向服务器请求服务时，只需传送请求方法和路径。请求方法常用的有 GET、HEAD、POST。每种方法规定了客户与服务器联系的类型不同。由于 HTTP 协议简单，使得 HTTP 服务器的程序规模小，因而通信速度很快。

 3. 灵活：HTTP 允许传输任意类型的数据对象。正在传输的类型由 Content-Type 加以标记。

 4. 无连接：无连接的含义是限制每次连接只处理一个请求。服务器处理完客户的请求，并收到客户的应答后，即断开连接。采用这种方式可以节省传输时间。

 5. 无状态：HTTP 协议是无状态协议。无状态是指协议对于事务处理没有记忆能力。缺少状态意味着如果后续处理需要前面的信息，则它必须重传，这样可能导致每次连接传送的数据量增大。另一方面，在服务器不需要先前信息时它的应答就较快

### HTTP工作流程

 - 第一步：建立 TCP/IP 连接，客户端与服务器通过 Socket 三次握手进行连接

 - 第二步：客户端向服务端发起 HTTP 请求（例如：POST/login.html http/1.1）

 - 第三步：客户端发送请求头信息，请求内容，最后会发送一空白行，标示客户端请求完毕

 - 第四步：服务器做出应答，表示对于客户端请求的应答，例如：HTTP/1.1 200 OK

 - 第五步：服务器向客户端发送应答头信息

 - 第六步：服务器向客户端发送请求头信息后，也会发送一空白行，标示应答头信息发送完毕，接着就以Content-type 要求的数据格式发送数据给客户端

 - 第七步：服务端关闭TCP连接，如果服务器或者客户端增 Connection:keep-alive 就表示客户端与服务器端继续保存连接，在下次请求时可以继续使用这次的连接

### HTTPS特点
 > HTTPS 是HTTP 协议的修改，它加密数据并确保其机密性。其配置可保护用户在与网站交互时免于窃取个人信息和计费数据。

 1. 优点
 > 相比于 http，https 可以提供更加优质保密的信息，保证了用户数据的安全性，此外 https 同时也一定程度上保护了服务端，使用恶意攻击和伪装数据的成本大大提高。

 2. 缺点
 > 缺点也同样很明显，第一 https 的技术门槛较高，多数个人或者私人网站难以支撑，CA 机构颁发的证书都是需要年费的，此外对接 Https 协议也需要额外的技术支持；其二，目前来说大多数网站并不关心数据的安全性和保密性，其 https 最大的优点对它来说并不适用；其三，https 加重了服务端的负担，相比于 http 其需要更多的资源来支撑，同时也降低了用户的访问速度；第四，目前来说 Http 网站仍然大规模使用，在浏览器侧也没有特别大的差别，很多用户不关心的话根本不感知。

### HTTPS工作流程
 - 第一步：客户使用 https 的 URL 访问 Web 服务器，要求与 Web 服务器建立 SSL 连接。

 - 第二步：Web 服务器收到客户端请求后，会将网站的证书信息（证书中包含公钥）传送一份给客户端。

 - 第三步：客户端的浏览器与 Web 服务器开始协商 SSL 连接的安全等级，也就是信息加密的等级。

 - 第四步：客户端的浏览器根据双方同意的安全等级，建立会话密钥，然后利用网站的公钥将会话密钥加密，并传送给网站。

 - 第五步：Web 服务器利用自己的私钥解密出会话密钥。

 - 第六步：Web 服务器利用会话密钥加密与客户端之间的通信。
